{"version":3,"sources":["index.js"],"names":["pieces","movingDys","eatingDys","map","dirs","d","colors","EMPTY_VALUE","length","clsx","classes","bag","Object","entries","pop","filter","v","Boolean","cls","join","defaultSetup","turn","grid","trim","split","GridUpdate","constructor","row","column","value","this","indices","updateFactory","final","finalVal","remove","let","updates","push","finalRow","finalColumn","forEach","cb","dom","$","document","getElementById","id","table","turnDiv","trailDiv","mainDiv","reset","share","undo","redo","click","mousemove","mouseup","mousedown","mouseover","e","el","addEventListener","CAN_MOVE","pieceClasses","_","i","EMPTY_PIECE","getDomCell","rows","cells","createCellInListChecker","moveSet","Set","list","has","dragging","forEachCell","domCell","mouseDown","startRow","startColumn","getIndicesForMouseCoordinates","classSet","classList","cellHas","bind","drag","endDrag","removeEventListener","style","backgroundImage","top","left","BoardState","handleMove","className","find","width","height","getBoundingClientRect","legalTargets","state","getLegalTargets","mouseMove","clientY","clientX","updatedGrid","updateUI","x","window","pageXOffset","y","pageYOffset","Math","floor","onresize","piecesThatCanMove","backgroundColor","renderClasses","disabled","idx","stack","isLegalTargetForHoveredCell","canMove","cellVal","newValue","legal-target","can-move","registerShare","registerUndo","undoCb","redoCb","registerReset","registerHover","highlightHovered","toast","text","ms","atoast","createElement","add","innerText","body","appendChild","setTimeout","removeChild","turnColor","flaggedCell","currentTurn","getPiecesThatCanMove","newGrid","computeGrid","updateFlaggedCell","flagged","undefined","updateCurrentTurn","oppositeColor","allCellsForColor","allLogicalLegalMovesForCell","finalCell","color","update","gridCopy","deepCopy2DArr","canTheMovingPieceStillEat","generateGridUpdatesForMoveIfLegal","serialized","updatedState","isTheMoveAnEatMove","allLegalEatingMovesForCell","didColorLose","resetGame","serialize","store","splice","startSession","regularBoardSetup","changeGridStringToNumbers","r","matrix","Array","fill","rIndex","cell","cIndex","Number","charAt","classToAlias","c","specificMove","indexOf","colorForCell","startCell","isThereAnEatingPossibilityForGivenColor","allLegalNonEatingMovesForCell","some","gridVal","eatingDxs","possibleEatings","dy","dx","oneBeforeRow","oneBefore","areRowsOutOfBounds","areColumnsOutOfBounds","abs","sign","oneBeforeColumn","movingDxs","possibleMovings","arr","gridstring","reduce","alias","replaceAll","storageBackend","STATE","GRID","TURN","pathname","href","location","fetch","search","urlParams","URLSearchParams","get","JSON","parse","localStorage","getItem","ex","persist","params","set","history","pushState","toString","setItem","stringify","removeItem","compileSharingUrl","navigator","clipboard","writeText","then"],"mappings":"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"}