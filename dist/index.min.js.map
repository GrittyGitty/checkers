{"version":3,"sources":["index.js"],"names":["pieces","movingDys","eatingDys","map","dirs","d","colors","EMPTY_VALUE","length","clsx","classes","bag","Object","entries","pop","filter","v","Boolean","cls","join","defaultSetup","turn","grid","trim","split","GridUpdate","constructor","row","column","value","this","indices","updateFactory","final","finalVal","remove","let","updates","push","finalRow","finalColumn","forEach","cb","dom","$","document","getElementById","id","table","turnDiv","trailDiv","mainDiv","reset","share","undo","redo","click","mousedown","mouseover","keydown","touchstart","e","el","addEventListener","CAN_MOVE","pieceClasses","_","i","EMPTY_PIECE","colorToClass","fromEntries","c","getDomCell","rows","cells","createCellInListChecker","moveSet","Set","list","has","dragging","forEachCell","domCell","startDrag","moveEvent","endEvent","coordsExtractor","clientX","clientY","startRow","startColumn","getIndicesForMouseCoordinates","classSet","classList","cellHas","bind","drag","end","removeEventListener","style","backgroundImage","translateTrailingDiv","BoardState","handleMove","once","className","find","width","height","getBoundingClientRect","legalTargets","state","getLegalTargets","updatedGrid","updateUI","x","y","transform","pointRelativeToTable","pieceRelativeX","pieceRelativeY","translateTrailingDivOffsetByRelativePoint","move","changedTouches","left","top","window","pageXOffset","pageYOffset","Math","floor","onresize","piecesThatCanMove","renderClasses","disabled","idx","stack","isLegalTargetForHoveredCell","canMove","cellVal","newValue","legal-target","can-move","registerShare","registerUndo","undoCb","redoCb","key","registerReset","registerHover","highlightHovered","toast","text","ms","atoast","createElement","add","innerText","body","appendChild","setTimeout","removeChild","turnColor","flaggedCell","currentTurn","getPiecesThatCanMove","newGrid","computeGrid","updateFlaggedCell","flagged","undefined","updateCurrentTurn","oppositeColor","allCellsForColor","allLogicalLegalMovesForCell","finalCell","color","update","gridCopy","deepCopy2DArr","canTheMovingPieceStillEat","generateGridUpdatesForMoveIfLegal","serialized","updatedState","isTheMoveAnEatMove","allLegalEatingMovesForCell","didColorLose","resetGame","serialize","store","splice","startSession","regularBoardSetup","changeGridStringToNumbers","r","matrix","Array","fill","rIndex","cell","cIndex","Number","charAt","classToAlias","specificMove","indexOf","colorForCell","startCell","isThereAnEatingPossibilityForGivenColor","allLegalNonEatingMovesForCell","some","gridVal","eatingDxs","possibleEatings","dy","dx","oneBeforeRow","oneBefore","areRowsOutOfBounds","areColumnsOutOfBounds","abs","sign","oneBeforeColumn","movingDxs","possibleMovings","arr","gridstring","reduce","alias","replaceAll","storageBackend","STATE","GRID","TURN","pathname","href","location","fetch","search","urlParams","URLSearchParams","get","JSON","parse","localStorage","getItem","ex","persist","params","set","history","pushState","toString","setItem","stringify","removeItem","compileSharingUrl","navigator","clipboard","writeText","then"],"mappings":"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"}