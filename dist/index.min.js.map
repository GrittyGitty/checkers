{"version":3,"sources":["index.js"],"names":["pieces","movingDys","eatingDys","map","dirs","d","colors","EMPTY_VALUE","length","clsx","classes","bag","Object","entries","pop","filter","v","Boolean","cls","join","defaultSetup","turn","grid","trim","split","GridUpdate","constructor","row","column","value","this","indices","updateFactory","final","finalVal","remove","let","updates","push","finalRow","finalColumn","forEach","cb","trailingTranslate","x","y","dom","$","document","getElementById","id","table","turnDiv","trailDiv","mainDiv","reset","share","undo","redo","click","mousedown","mouseover","keydown","touchstart","e","el","addEventListener","CAN_MOVE","pieceClasses","_","i","EMPTY_PIECE","colorToClass","fromEntries","c","getDomCell","rows","cells","createCellInListChecker","moveSet","Set","list","has","dragging","forEachCell","domCell","startDrag","moveEvent","endEvent","coordsExtractor","clientX","clientY","console","log","startRow","startColumn","getIndicesForMouseCoordinates","classSet","classList","cellHas","bind","drag","end","removeEventListener","style","backgroundImage","transform","BoardState","handleMove","once","className","find","width","height","getBoundingClientRect","legalTargets","state","getLegalTargets","move","updatedGrid","updateUI","changedTouches","left","top","window","pageXOffset","pageYOffset","Math","floor","onresize","piecesThatCanMove","renderClasses","disabled","idx","stack","isLegalTargetForHoveredCell","canMove","cellVal","newValue","legal-target","can-move","registerShare","registerUndo","undoCb","redoCb","key","registerReset","registerHover","highlightHovered","toast","text","ms","atoast","createElement","add","innerText","body","appendChild","setTimeout","removeChild","turnColor","flaggedCell","currentTurn","getPiecesThatCanMove","newGrid","computeGrid","updateFlaggedCell","flagged","undefined","updateCurrentTurn","oppositeColor","allCellsForColor","allLogicalLegalMovesForCell","finalCell","color","update","gridCopy","deepCopy2DArr","canTheMovingPieceStillEat","generateGridUpdatesForMoveIfLegal","serialized","updatedState","isTheMoveAnEatMove","allLegalEatingMovesForCell","didColorLose","resetGame","serialize","store","splice","startSession","regularBoardSetup","changeGridStringToNumbers","r","matrix","Array","fill","rIndex","cell","cIndex","Number","charAt","classToAlias","specificMove","indexOf","colorForCell","startCell","isThereAnEatingPossibilityForGivenColor","allLegalNonEatingMovesForCell","some","gridVal","eatingDxs","possibleEatings","dy","dx","oneBeforeRow","oneBefore","areRowsOutOfBounds","areColumnsOutOfBounds","abs","sign","oneBeforeColumn","movingDxs","possibleMovings","arr","gridstring","reduce","alias","replaceAll","storageBackend","STATE","GRID","TURN","pathname","href","location","fetch","search","urlParams","URLSearchParams","get","JSON","parse","localStorage","getItem","ex","persist","params","set","history","pushState","toString","setItem","stringify","removeItem","compileSharingUrl","navigator","clipboard","writeText","then"],"mappings":"AAAA,MAAMA,OAAS,CAAC,QAAS,aAAc,MAAO,WAAY,SACpDC,UAAY,CAAC,CAAC,CAAC,GAAI,CAAC,CAAC,EAAG,GAAI,CAAC,GAAI,CAAC,CAAC,EAAG,IACtCC,UAAYD,UAAUE,IAAI,GAAUC,EAAKD,IAAI,GAAW,EAAJE,CAAK,CAAC,EAC1DC,OAAS,CAAC,QAAS,OACnBC,YAAcP,OAAOQ,OAAS,EAE9BC,KAAO,IAAIC,KACb,IAAMC,EAAMC,OAAOC,QAAQH,EAAQI,IAAI,CAAC,EAAEC,OAAO,CAAA,CAAE,CAAEC,KAAOC,QAAQD,CAAC,CAAC,EAAEb,IAAI,CAAA,CAAEe,KAASA,CAAG,EAC1F,MAAO,CAAC,GAAGR,EAAS,GAAGC,GAAKQ,KAAK,GAAG,CACxC,EAGMC,aAAe,CACjBC,KAAM,QACNC;;;;;;;;;EASFC,KAAK,EAAEC,MAAM,IAAI,EAAET,OAAOE,OAAO,EAAEE,KAAK,IAAI,CAC9C,QAKMM,WACFC,YAAYC,EAAKC,EAAQC,EAAQtB,aAC7BuB,KAAKC,QAAU,CAAEJ,IAAAA,EAAKC,OAAAA,CAAO,EAC7BE,KAAKD,MAAQA,CACjB,CAEAG,qBAAqBC,EAAOC,KAAaC,GACrCC,IAAIC,EAAU,GAGd,OAFAA,EAAQC,KAAK,IAAIb,WAAWQ,EAAMM,SAAUN,EAAMO,YAAaN,CAAQ,CAAC,EACxEC,EAAOM,QAAQ,CAAA,CAAGV,QAAAA,CAAS,IAAKM,EAAQC,KAAK,IAAIb,WAAWM,EAAQJ,IAAKI,EAAQH,MAAM,CAAC,CAAC,EAClFS,CACX,CACJ,CAEA,SAASI,QAAQC,GACb,IAAKN,IAAIT,EAAM,EAAGA,EAAM,EAAGA,CAAG,GAC1B,IAAKS,IAAIR,EAAS,EAAGA,EAAS,EAAGA,CAAM,GACnCc,EAAGf,EAAKC,CAAM,CAG1B,CAEA,MAAMe,kBAAoB,CAACC,EAAGC,kBAAoBD,mBAAmBC,OAG/DC,KAAM,KACR,IAAMC,EAAI,GAAQC,SAASC,eAAeC,CAAE,EAE5C,MAAMC,EAAQJ,EAAE,OAAO,EACjBK,EAAUL,EAAE,SAAS,EACrBM,EAAWN,EAAE,aAAa,EAC1BO,EAAUP,EAAE,gBAAgB,EAC5BQ,EAAQR,EAAE,OAAO,EACjBS,EAAQT,EAAE,OAAO,EACjBU,EAAOV,EAAE,MAAM,EACfW,EAAOX,EAAE,MAAM,EAEf,CAACY,EAAOC,EAAWC,EAAWC,EAASC,GACzC,CAAC,QAAS,YAAa,YAAa,UAAW,cAAc5D,IACzD6D,GAAK,CAACC,EAAIvB,IAAOuB,EAAGC,iBAAiBF,EAAGtB,CAAE,CAC9C,EAGEyB,EAAW,WACXC,EAAepE,OAAOG,IAAI,CAACkE,EAAGC,IAAM,SAAStE,OAAOsE,EAAI,EACxDC,EAAcH,EAAa7D,aAC3BiE,EAAe5D,OAAO6D,YAAYnE,OAAOH,IAAI,GAAO,CAACuE,EAAG,SAASA,EAAI,CAAC,EACtEC,EAAa,CAAChD,EAAKC,IAAWuB,EAAMyB,KAAKjD,GAAKkD,MAAMjD,GAEpDkD,EAA0B,IAC5B,MAAMC,EAAU,IAAIC,IAAIC,EAAK9E,IAAI,CAAA,CAAGwB,IAAAA,EAAKC,OAAAA,CAAQ,IAAQD,EAAH,IAAUC,CAAQ,CAAC,EACzE,MAAO,CAACD,EAAKC,IAAWmD,EAAQG,IAAOvD,EAAH,IAAUC,CAAQ,CAC1D,EAEAQ,IAAI+C,EAAW,CAAA,EAEf,MAAMC,EAAc,GAAQ3C,QAAQ,CAACd,EAAKC,IAAWc,EAAG,CAAEf,IAAAA,EAAKC,OAAAA,EAAQyD,QAASV,EAAWhD,EAAKC,CAAM,CAAE,CAAC,CAAC,EA0B1G,SAAS0D,EAAUtB,EAAG,CAAEuB,UAAAA,EAAWC,SAAAA,EAAUC,gBAAAA,CAAgB,GACzD,GAAM,CAAEC,QAAAA,EAASC,QAAAA,CAAQ,EAAIF,EAAgBzB,CAAC,EAC9C4B,QAAQC,IAAI,CAAEH,QAAAA,EAASC,QAAAA,CAAQ,CAAC,EAChCvD,GAAI,CAAET,IAAKmE,EAAUlE,OAAQmE,CAAY,EAAIC,EAA8B,CAAEN,QAAAA,EAASC,QAAAA,CAAQ,CAAC,EAE/F,IAAMM,EAAW,IAAIjB,IAAIL,EAAWmB,EAAUC,CAAW,EAAEG,SAAS,EAC9DC,EAAUF,EAASf,IAAIkB,KAAKH,CAAQ,EAC1C,GAAKE,EAAQhC,CAAQ,GAAKgC,CAAAA,EAAQ5B,CAAW,EAA7C,CAGAY,EAAW,CAAA,EAEX7B,EAAQY,iBAAiBqB,EAAWc,CAAI,EACxC/C,EAAQY,iBAAiBsB,EAezB,SAAiBc,GACbhD,EAAQiD,oBAAoBhB,EAAWc,CAAI,EAC3ChD,EAASmD,MAAMC,gBAAkB,GACjCpD,EAASmD,MAAME,UAAY/D,kBAAkB,CAAC,IAAM,CAAC,GAAI,EACzDwC,EAAW,CAAA,EACX/C,GAAI,CAAET,IAAKY,EAAUX,OAAQY,CAAY,EAAIwD,EAA8BP,EAAgBa,CAAG,CAAC,EAC/FK,WAAWC,WAAWrE,EAAUC,EAAasD,EAAUC,CAAW,CACtE,EAtB4C,CAAEc,KAAM,CAAA,CAAK,CAAC,EAG1DxD,EAASyD,UAAY1C,EAAa2C,KAAKZ,CAAO,EAC9C,KAAM,CAAEa,MAAAA,EAAOC,OAAAA,CAAO,EAAI5D,EAAS6D,sBAAsB,EACnDC,EAAeC,MAAMC,gBAAgBvB,EAAUC,CAAW,EAKhE,SAASM,EAAKiB,GACV,GAAM,CAAE5B,QAAAA,EAASC,QAAAA,CAAQ,EAAIF,EAAgB6B,CAAI,EACjDjE,EAASmD,MAAME,UAAY/D,kBAAkB+C,EAAUsB,EAAQ,EAAGrB,EAAUsB,EAAS,CAAC,CAC1F,CANAG,MAAMG,YAAY,CAAC,IAAI9F,WAAWqE,EAAUC,EAAaxF,WAAW,EAAE,EAAEiH,SAASL,CAAY,EAC7FvB,QAAQC,IAAI7B,CAAC,EACbX,EAASmD,MAAME,UAAY/D,kBAAkB+C,EAAUsB,EAAQ,EAAGrB,EAAUsB,EAAS,CAAC,CAd5E,CA4Bd,CA3CArD,EAAUT,EAAO,IACbmC,EAAUtB,EAAG,CAAEuB,UAAW,YAAaC,SAAU,UAAWC,gBAAiBzB,GAAKA,CAAE,CAAC,CACzF,CAAC,EACDD,EAAWZ,EAAO,IACdmC,EAAUtB,EAAG,CAAEuB,UAAW,YAAaC,SAAU,WAAYC,gBAAiBzB,GAAKA,EAAEyD,eAAe,EAAG,CAAC,CAC5G,CAAC,EAwCDrF,GAAI,CAAEsF,KAAAA,EAAMC,IAAAA,EAAKX,MAAAA,EAAOC,OAAAA,CAAO,EAAI9D,EAAM+D,sBAAsB,EAC/D,SAASlB,EAA8B,CAAEN,QAAAA,EAASC,QAAAA,CAAQ,GAGhD/C,GAFgB8E,EAAOE,OAAOC,YAEDhF,GADb8E,EAAMC,OAAOE,YAGnC,OAAIlF,EAAIoE,GAASnE,EAAIoE,EACV,CAAEtF,IAAK,CAAC,EAAGC,OAAQ,CAAC,CAAE,EAC1B,CACHD,IAAKoG,KAAKC,MAAOnF,EAAIoE,EAAU,CAAC,EAChCrF,OAAQmG,KAAKC,MAAOpF,EAAIoE,EAAS,CAAC,CACtC,CACJ,CAaA,OADAY,OAAOK,SAAW,KAAO,CAAEP,KAAAA,EAAMC,IAAAA,EAAKX,MAAAA,EAAOC,OAAAA,CAAO,EAAI9D,EAAM+D,sBAAsB,GAC7E,CACHM,SAAS,CAAElG,KAAAA,EAAMD,KAAAA,EAAM8F,aAAAA,EAAce,kBAAAA,CAAkB,GACnDC,CAAAA,GAAAA,CAzFe7G,EAAM,CAAE6F,aAAAA,EAAce,kBAAAA,EAAmB7G,KAAAA,CAAK,GAyF7D8G,CAAc7G,EAAM,CAAE6F,aAAAA,EAAce,kBAAAA,EAAmB7G,KAAAA,CAAK,GAxFhE+B,EAAQ0D,UAAYtC,EAAanD,GACjCoC,EAAK2E,SAAmB,IAARC,IAChB3E,EAAK0E,SAAWC,MAAQC,MAAM9H,OAAS,EACvC,MAAM+H,EAA8BzD,EAAwBqC,CAAY,EAClEqB,EAAU1D,EAAwBoD,CAAiB,EACzD9C,EAAY,CAAA,CAAGzD,IAAAA,EAAKC,OAAAA,EAAQyD,QAAAA,CAAS,KACjC,IAAMoD,EAAUnH,EAAKK,GAAKC,GACpB8G,EAAWjI,KAAK2D,EAAaqE,GAAU,CACzCE,eAAgBJ,EAA4B5G,EAAKC,CAAM,EACvDgH,WAAYJ,EAAQ7G,EAAKC,CAAM,GAAK,CAACuD,CACzC,CAAC,EACGE,EAAQyB,YAAc4B,IACtBrD,EAAQyB,UAAY4B,EAC5B,CAAC,CA2EgE,CACjE,EACAG,cAAenG,GAAMiB,EAAMH,EAAOd,CAAE,EACpCoG,aAAc,CAACC,EAAQC,KACnBrF,EAAMF,EAAMsF,CAAM,EAClBpF,EAAMD,EAAMsF,CAAM,EAClBlF,EAAQ8D,OAAQ,CAAA,CAAGqB,IAAAA,CAAK,KACR,cAARA,GAAwBxF,EAAK2E,UAAUW,EAAO,EACtC,eAARE,GAAyBvF,EAAK0E,UAAUY,EAAO,CACvD,CAAC,CACL,EACAE,cAAexG,GAAMiB,EAAMJ,EAAOb,CAAE,EACpCyG,cAAcC,GACVhE,EAAY,CAAA,CAAGC,QAAAA,EAAS1D,IAAAA,EAAKC,OAAAA,CAAQ,KACjCiC,EAAUwB,EAAS,IAAM+D,EAAiBzH,EAAKC,CAAM,CAAC,CAC1D,CAAC,CACL,EACAyH,MA9BJ,SAAeC,EAAMC,EAAK,KACtB,MAAMC,EAASxG,SAASyG,cAAc,KAAK,EAC3CD,EAAOtD,UAAUwD,IAAI,OAAO,EAC5BF,EAAOG,UAAYL,EACnBtG,SAAS4G,KAAKC,YAAYL,CAAM,EAChCM,WAAW,KACP9G,SAAS4G,KAAKG,YAAYP,CAAM,CACpC,EAAGD,CAAE,CACT,CAuBA,CACH,GAAE,QAEG5C,WACFjF,YAAYJ,EAAM0I,EAAW,CAAEC,YAAAA,CAAY,EAAI,IAC3CnI,KAAKR,KAAOA,EACZQ,KAAKoI,YAAcF,EACnBlI,KAAKmI,YAAcA,EACnBnI,KAAKoG,kBAAoBpG,KAAKqI,qBAAqB,CACvD,CAEA5C,YAAYlF,GACJ+H,EAAUzD,WAAW0D,YAAYvI,KAAKR,KAAMe,CAAO,EACvD,OAAO,IAAIsE,WAAWyD,EAAStI,KAAKoI,WAAW,CACnD,CAEAI,kBAAkBC,EAAUC,KAAAA,GACxB,OAAO,IAAI7D,WAAW7E,KAAKR,KAAMQ,KAAKoI,YAAa,CAAEK,QAAAA,CAAQ,CAAC,CAClE,CAEAE,oBACIrI,IAAId,EAAOQ,KAAKR,KAChB,OAAO,IAAIqF,WAAWrF,EAAMqF,WAAW+D,cAAc5I,KAAKoI,WAAW,CAAC,CAC1E,CAEAC,uBACI,OAAOQ,iBAAiB7I,KAAKR,KAAMQ,KAAKoI,WAAW,EAAEnJ,OAAO,CAAA,CAAGY,IAAAA,EAAKC,OAAAA,CAAQ,IAAKE,KAAKuF,gBAAgB1F,EAAKC,CAAM,EAAEpB,MAAM,CAC7H,CAEAgH,SAASL,EAAe,IAEpB,OADArE,IAAI0E,SAAS,CAAElG,KAAMQ,KAAKR,KAAMD,KAAMS,KAAKoI,YAAa/C,aAAAA,EAAce,kBAAmBpG,KAAKoG,iBAAkB,CAAC,EAC1GpG,IACX,CAEAuF,gBAAgBvB,EAAUC,GACtB,OAAO6E,4BAA4B9I,KAAM,CAAEgE,SAAAA,EAAUC,YAAAA,CAAY,CAAC,EAAE5F,IAAI,CAAA,CAAG0K,UAAAA,CAAW,IAAKA,CAAS,CACxG,CAEAH,qBAAqBI,GACjB,OAAOA,IAAUxK,OAAO,GAAKA,OAAO,GAAKA,OAAO,EACpD,CAEA+J,mBAAmB/I,EAAMyJ,GACrB3I,IAAI4I,EAAWC,cAAc3J,CAAI,EAIjC,OAHAyJ,EAAOtI,QAAQ,CAAA,CAAGV,QAAS,CAAEJ,IAAAA,EAAKC,OAAAA,CAAO,EAAGC,MAAAA,CAAO,KAC/CmJ,EAASrJ,GAAKC,GAAUC,CAC5B,CAAC,EACMmJ,CACX,CAEApE,kBAAkBrE,EAAUC,EAAasD,EAAUC,GAE/C,GADkBqB,MAAM9F,KAAKiB,GAAUC,KACrBjC,aAA6B,CAAC,IAAdgC,GAAmC,CAAC,IAAjBC,EACjD,OAAO4E,MAAMI,SAAS,EAE1BpF,IAIQ8I,EAJJ7I,EAAU8I,kCAAkC/D,MAAO,CAAE7E,SAAAA,EAAUC,YAAAA,EAAasD,SAAAA,EAAUC,YAAAA,CAAY,CAAC,EAcjGqF,GAbe,EAAjB/I,EAAQ7B,SACJ6K,EAAejE,MAAMG,YAAYlF,CAAO,EACxCiJ,EAAyC,IAAnBjJ,EAAQ7B,QAA4E,SAA5DR,OAAOqC,EAAQA,EAAQ7B,OAAS,GAAGqB,OAAOL,MAAM,GAAG,EAAE,IAAsC,IAAnBa,EAAQ7B,OAC9H0K,EAA6G,IAAhFK,2BAA2BF,EAAa/J,KAAMiB,EAAUC,CAAW,EAAEhC,OAIlGgL,cAHJpE,MAASkE,GAAsBJ,EAC3BG,EAAaf,kBAAkB,CAAE3I,IAAKY,EAAUX,OAAQY,CAAY,CAAC,EACrE6I,EAAaf,kBAAkB,EAAEG,kBAAkB,GAChCnJ,KAAM8F,MAAM8C,WAAW,IAC1CpH,IAAIuG,MAASjC,MAAM8C,YAAT,YAAiC,GAAI,EAC/CuB,UAAU,IAGlBrE,MAAMI,SAAS,EACIJ,MAAMsE,UAAU,GACnCC,MAAMvE,MAAQgE,EACd9C,MAAM,EAAED,KAAO+C,EACf9C,MAAMsD,OAAOvD,IAAM,CAAC,CACxB,CAEAwD,oBAAoB,CAAEvK,KAAAA,EAAMD,KAAAA,CAAK,GAC7B,MAAMyK,EAAoBC,0BAA0BzK,CAAI,EAAEC,KAAK,EAAEC,MAAM,IAAI,EAAErB,IAAI6L,GAAKA,EAAEzK,KAAK,CAAC,EACxF0K,EAAS,IAAIC,MAAMJ,EAAkBtL,MAAM,EAAE2L,KAAK,IAAID,MAAMJ,EAAkB,GAAGtL,MAAM,EAAE2L,KAAK,CAAC,CAAC,EAAEhM,IAAI,CAACwB,EAAKyK,IAAWzK,EAAIxB,IAAI,CAACkM,EAAMC,IAAWC,OAAOT,EAAkBM,GAAQI,OAAOF,CAAM,CAAC,CAAC,CAAC,EACxM,OAAO,IAAI3F,WAAWsF,EAAQ5K,CAAI,EAAEmG,SAAS,CACjD,CAEAkE,YACI,MAAMe,EAAe,CAAC,IAAK,IAAK,IAAK,IAAK,KAC1C,MAAO,CACHnL,KAAMQ,KAAKR,KAAKnB,IAAI,GACT6L,EAAE7L,IAAI,GAAOsM,EAAa/H,EAAE,EAAEvD,KAAK,EAAE,CAC/C,EAAEA,KAAK,IAAI,EACZE,KAAMS,KAAKoI,WACf,CACJ,CACJ,CAEA,SAASiB,kCAAkC/D,EAAO,CAAE7E,SAAAA,EAAUC,YAAAA,EAAasD,SAAAA,EAAUC,YAAAA,CAAY,GAC7F,IACM2G,EADe9B,4BAA4BxD,EAAO,CAAEtB,SAAAA,EAAUC,YAAAA,CAAY,CAAC,EAC/CgB,KAAK,CAAC,CAAG8D,UAAAA,CAAW,IAAKA,EAAUlJ,MAAQY,GAAYsI,EAAUjJ,SAAWY,CAAY,EAC1H,OAAKkK,GAEGrK,EAAYqK,EAAZrK,YAEW,IAAbE,GAAiC,IAAbA,IAAqC,EAAjBF,EAAQ7B,QAClD6B,EAAQC,KAAK,IAAIb,WAAWc,EAAUC,EAAaxC,OAAO2M,QAAQC,aAAaxF,EAAM9F,KAAKwE,GAAUC,EAAY,EAAU,OAAM,CAAC,CAAC,EAE/H1D,GAPmB,EAQ9B,CAEA,SAASuI,4BAA4B,CAAEtJ,KAAAA,EAAM2I,YAAAA,EAAaC,YAAAA,CAAY,EAAG,CAAEpE,SAAAA,EAAUC,YAAAA,CAAY,GAC7F,IAAM8G,EAAYvL,EAAKwE,GAAUC,GACjC,OACI8G,IAActM,aACdqM,aAAaC,CAAS,IAAM3C,GAC3BpE,IAAamE,GAAatI,KAAOoE,IAAgBkE,GAAarI,OAExD,IACJkL,wCAAwCxL,EAAMsL,aAAatL,EAAKwE,GAAUC,EAAY,CAAC,EACxFwF,2BACAwB,+BAD2BzL,EAAMwE,EAAUC,CAAW,CAEhE,CAEA,SAAS+G,wCAAwCxL,EAAMwJ,GACnD,OAAOH,iBAAiBrJ,EAAMwJ,CAAK,EAAEkC,KAAK,CAAA,CAAGrL,IAAAA,EAAKC,OAAAA,CAAQ,IAA4D,EAAvD2J,2BAA2BjK,EAAMK,EAAKC,CAAM,EAAEpB,MAAU,CAC3H,CAGA,SAASoM,aAAaK,GAClB,OAAOA,IAAY1M,YAAcP,OAAOiN,GAASzL,MAAM,GAAG,EAAE,GAAK,OACrE,CAGA,SAAS+J,2BAA2BjK,EAAMwE,EAAUC,GAChD,IAAMmH,EAAY,CAAC,EAAG,CAAC,GACnBC,EAAkB,GAClBN,EAAYvL,EAAKwE,GAAUC,GAE/B,GAAI8G,IAActM,YAGlB,IAAK6B,IAAIgL,KAAMlN,UAAU2M,GACrB,IAAKzK,IAAIiL,KAAMH,EAAW,CACtB9K,IAGIyI,EAEAyC,EAGAC,EARAhL,EAAWuD,EAAWsH,EAAI5K,EAAcuD,EAAcsH,EACtDG,mBAAmBjL,CAAQ,GAAKkL,sBAAsBjL,CAAW,IAEjEqI,EAAYvJ,EAAKiB,GAAUC,GAE3B8K,EAAexH,GAAaiC,KAAK2F,IAAIN,CAAE,EAAI,GAAKrF,KAAK4F,KAAKP,CAAE,EAC5DQ,EAAkB7H,GAAgBgC,KAAK2F,IAAIL,CAAE,EAAI,GAAKtF,KAAK4F,KAAKN,CAAE,EAElEE,EAAYjM,EAAKgM,GAAcM,GAE/B/C,IAActK,aACVqM,aAAaW,CAAS,IAAM5G,WAAW+D,cAAckC,aAAaC,CAAS,CAAC,GAC5EM,EAAgB7K,KAAK,CACjBuI,UAAW,CAAElJ,IAAKY,EAAUX,OAAQY,CAAY,EAChDH,QAASZ,WAAWO,cAAc,CAC9BO,SAAAA,EACAC,YAAAA,CACJ,EAAGqK,EAAW,IAAIpL,WAAW6L,EAAcM,CAAe,EAAG,IAAInM,WAAWqE,EAAUC,CAAW,CAAC,CACtG,CAAC,EAEb,CAEJ,OAAOoH,CACX,CAEA,SAASJ,8BAA8BzL,EAAMwE,EAAUC,GACnD,IAAM8H,EAAY,CAAC,EAAG,CAAC,GAEnBC,EAAkB,GAClBjB,EAAYvL,EAAKwE,GAAUC,GAC/B,GAAI8G,IAActM,YAGlB,IAAK6B,IAAIgL,KAAMnN,UAAU4M,GACrB,IAAKzK,IAAIiL,KAAMQ,EAAW,CACtBzL,IAAIG,EAAWuD,EAAWsH,EAAI5K,EAAcuD,EAAcsH,EACtDG,mBAAmBjL,CAAQ,GAAKkL,sBAAsBjL,CAAW,GAErDlB,EAAKiB,GAAUC,KACbjC,aACduN,EAAgBxL,KAAK,CACjBuI,UAAW,CAAElJ,IAAKY,EAAUX,OAAQY,CAAY,EAChDH,QAASZ,WAAWO,cAAc,CAC9BO,SAAAA,EACAC,YAAAA,CACJ,EAAGqK,EAAW,IAAIpL,WAAWqE,EAAUC,CAAW,CAAC,CACvD,CAAC,CACT,CAEJ,OAAO+H,CACX,CAEA,SAASnD,iBAAiBrJ,EAAMwJ,GAC5B,MAAMjG,EAAQ,GAKd,OAJApC,QAAQ,CAACd,EAAKC,KACNgL,aAAatL,EAAKK,GAAKC,EAAO,IAAMkJ,GACpCjG,EAAMvC,KAAK,CAAEX,IAAAA,EAAKC,OAAAA,CAAO,CAAC,CAClC,CAAC,EACMiD,CACX,CAEA,SAAS2G,aAAalK,EAAMwJ,GACxB,MAAO,CAACH,iBAAiBrJ,EAAMwJ,CAAK,EAAEkC,KAAK,CAAA,CAAGrL,IAAAA,EAAKC,OAAAA,CAAQ,IAA4D,EAAvD2J,2BAA2BjK,EAAMK,EAAKC,CAAM,EAAEpB,QAAwE,EAA1DuM,8BAA8BzL,EAAMK,EAAKC,CAAM,EAAEpB,MAAU,CAC3L,CAEA,MAAMyK,cAAgB,GAAS8C,EAAI5N,IAAI,GAAO6L,EAAE7L,IAAI,GAAOuE,CAAC,CAAC,EAG7D,SAAS8I,sBAAsBzL,GAC3B,OAAOA,EAAQiL,KAAKrL,GAAc,GAAPA,GAAYA,EAAM,CAAC,CAClD,CAEA,SAAS8L,yBAAyB1L,GAC9B,OAAOA,EAAQiL,KAAKpL,GAAoB,GAAVA,GAAeA,EAAS,CAAC,CAC3D,CAEA,SAASmK,0BAA0BiC,GAC/B,MAAO,CAAC,IAAK,IAAK,IAAK,IAAK,KAAKC,OAAO,CAAC3M,EAAM4M,EAAO5J,IAAMhD,EAAK6M,WAAWD,EAAO5J,CAAC,EAAG0J,CAAU,CACrG,CAEA,MAAMI,gBAAiB,KACnB,MAAMC,EAAQ,QACRC,EAAO,OACPC,EAAO,OACP,CAAEC,SAAAA,EAAUC,KAAAA,CAAK,EAAI7G,OAAO8G,SAiB5BC,EAAQ,KAAM,OAAC/G,OAAO8G,SAASE,QAN3BC,EAAY,IAAIC,gBAAgBlH,OAAO8G,SAASE,MAAM,EACtDtN,EAAOuN,EAAUE,IAAIT,CAAI,EACzBjN,EAAOwN,EAAUE,IAAIR,CAAI,EACxBjN,EAAO,CAAEA,KAAAA,EAAMD,KAAAA,CAAK,EAAImJ,KAAAA,IAXV,KACrB,IACI,OAAOwE,KAAKC,MAAMC,aAAaC,QAAQd,CAAK,CAAC,CAGjD,CAFE,MAAOe,IAGb,GAQ8E,IAAMhO,aAPjE,IACTyN,EACAvN,CAK0EF,EAsBpF,MAAO,CAAEuN,MAAAA,EAAOU,QApBA,CAAC,CAAE/N,KAAAA,EAAMD,KAAAA,CAAK,EAAID,gBAC9B,IAAMkO,EAAS,IAAIR,gBACnBQ,EAAOC,IAAIjB,EAAMhN,CAAI,EACrBgO,EAAOC,IAAIhB,EAAMlN,CAAI,EACrBmO,QAAQC,UAAU,KAAM,GAAOjB,EAAH,IAAec,EAAOI,SAAS,CAAG,EAC9DR,aAAaS,QAAQtB,EAAOW,KAAKY,UAAU,CAAEtO,KAAAA,EAAMD,KAAAA,CAAK,CAAC,CAAC,CAC9D,EAcyBkC,MAbX,KACViM,QAAQC,UAAU,KAAM,GAAIjB,CAAQ,EACpCU,aAAaW,WAAWxB,CAAK,CACjC,EAUgCyB,kBARhC,WACI,IAAMR,EAAS,IAAIR,gBACb,CAAExN,KAAAA,EAAMD,KAAAA,CAAK,EAAIsN,EAAM,EAG7B,OAFAW,EAAOC,IAAIjB,EAAMhN,CAAI,EACrBgO,EAAOC,IAAIhB,EAAMlN,CAAI,EACXoN,EAAKjN,MAAM,GAAG,EAAE,GAAnB,IAAyB8N,EAAOI,SAAS,CACpD,CAEkD,CACrD,GAAE,EAEG/D,OAAQ,KACV,KAAM,CAAEgD,MAAAA,EAAOU,QAAAA,EAAS9L,MAAAA,EAAOuM,kBAAAA,CAAkB,EAAI1B,eACrD,MAAO,CACHhH,YACI,OAAOuH,EAAM,CACjB,EACAvH,UAAU,CAAE9F,KAAAA,EAAMD,KAAAA,CAAK,GACnBgO,EAAQ,CAAE/N,KAAAA,EAAMD,KAAAA,CAAK,CAAC,CAC1B,EACAkC,MAAAA,EACAC,YACI,OAAOsM,EAAkB,CAC7B,CACJ,CACH,GAAE,EAIH,SAASrE,YACLrE,MAAQT,WAAWkF,aAAazK,YAAY,EAC5CkH,MAAQ,CAAClH,cACTiH,IAAM,EACNsD,MAAMpI,MAAM,CAChB,CAEAT,IAAI+F,cAAc,KACdkH,UAAUC,UAAUC,UAAUtE,MAAMnI,KAAK,EAAE0M,KAAK,KAC5CpN,IAAIuG,MAAM,iDAAiD,CAC/D,CAAC,CACL,CAAC,EACDvG,IAAIoG,cAAcuC,SAAS,EAC3B3I,IAAIqG,cAAc,CAACxH,EAAKC,IAAWwF,MAAMI,SAASJ,MAAMC,gBAAgB1F,EAAKC,CAAM,CAAC,CAAC,EAErFkB,IAAIgG,aACA,KACI1B,MAAQT,WAAWkF,aAAavD,MAAM,EAAED,IAAI,EAC5CsD,MAAMvE,MAAQA,MAAMsE,UAAU,CAClC,EACA,KACItE,MAAQT,WAAWkF,aAAavD,MAAM,EAAED,IAAI,EAC5CsD,MAAMvE,MAAQA,MAAMsE,UAAU,CAClC,CACJ,EACAtJ,IAAIkG,MAAQ,CAACqD,MAAMvE,OACfiB,IAAM,EACNjB,MAAQT,WAAWkF,aAAaF,MAAMvE,KAAK"}